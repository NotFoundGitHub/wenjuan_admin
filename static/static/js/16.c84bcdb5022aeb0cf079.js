webpackJsonp([16],{"49gV":function(e,t){},PFpV:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),s=a.n(r),o=a("gyMJ"),n=a("2bvH"),i={name:"login",data:function(){return{formValidate:{username:"",password:""},ruleValidate:{password:[{required:!0,message:"密码不能为空",trigger:"blur"}],username:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"输入正确邮箱格式",trigger:"blur"}]}}},computed:s()({},Object(n.c)(["username"])),methods:s()({},Object(n.b)(["SET_USER","SET_NICKNAME"]),{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?o.a.login(t.formValidate).then(function(e){1==e.status?(t.SET_USER(t.formValidate.username),t.$Message.success(e.msg),window.localStorage.setItem("username",t.formValidate.username),o.a.getUser().then(function(a){1==a.status?(t.SET_NICKNAME(a.data.nickname),t.$Message.success(a.msg),t.$router.push({name:"survey"})):t.$Message.error(e.msg)})):t.$Message.error(e.msg)}).catch(function(e){t.$Message.error("请求错误或网络错误")}):t.$Message.error("输入数据错误")})},handleLostPass:function(){this.$router.push({name:"updatePass"})},handleReset:function(e){this.$refs[e].resetFields()}})},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Form",{ref:"formValidate",staticClass:"form",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":60}},[a("FormItem",{attrs:{label:"邮箱",prop:"username"}},[a("Input",{attrs:{placeholder:"输入邮箱"},model:{value:e.formValidate.username,callback:function(t){e.$set(e.formValidate,"username",t)},expression:"formValidate.username"}},[a("Icon",{attrs:{slot:"prefix",type:"md-mail"},slot:"prefix"})],1)],1),e._v(" "),a("FormItem",{attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{placeholder:"输入密码",type:"password"},model:{value:e.formValidate.password,callback:function(t){e.$set(e.formValidate,"password",t)},expression:"formValidate.password"}},[a("Icon",{attrs:{slot:"prefix",type:"md-key"},slot:"prefix"})],1)],1),e._v(" "),a("ButtonGroup",{staticClass:"footer",attrs:{shape:"circle",size:"large"}},[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[a("Icon",{attrs:{type:"ios-arrow-back"}}),e._v("登录\n      ")],1),e._v(" "),a("Button",{on:{click:e.handleLostPass}},[e._v("\n        忘记密码\n        "),a("Icon",{attrs:{type:"ios-arrow-forward"}})],1)],1)],1)],1)},staticRenderFns:[]};var u=a("C7Lr")(i,l,!1,function(e){a("49gV")},"data-v-0a97bf91",null);t.default=u.exports}});
//# sourceMappingURL=16.c84bcdb5022aeb0cf079.js.map