webpackJsonp([6],{"8gDL":function(t,e){},dOTO:function(t,e,r){"use strict";function i(t){return Object.prototype.toString.call(t).slice(8,-1)}const s=function(t){if(null===t||void 0===t)return;const e=i(t);if("Date"===e){let e=new Date;return e.setTime(t.getTime()),e}if("Object"===e){if(!0===function(t){let e=[];return function t(r){if(r&&"Object"===i(r)){if(-1!==e.indexOf(r))return!0;for(var s in e.push(r),r)if(!0===r.hasOwnProperty(s)&&t(r[s]))return!0}return!1}(t)}(t))return t;let e={};for(let r in t)e[r]=s(t[r]);return e}if("Array"===e){let e=[];for(var r=0;r<t.length;r++)e.push(s(t[r]));return e}return t};t.exports=s},"fDO+":function(t,e,r){"use strict";var i=r("dOTO"),s=r.n(i),n={data:function(){return{valueList:[],oriList:[]}},props:{list:{type:Array,default:function(){return[]},required:!0}},filters:{},methods:{submit:function(){for(var t in this.list){var e=this.list[t];if(e.required&&!e.value.toString().length)return void this.$Message.error("请输入第"+(+t+1)+"问的值");var r=e.questIndex,i=e._id,s=e.value;this.valueList[t]={questIndex:r,_id:i,value:s}}"surveyPage"==this.$route.name&&this.$emit("submit",this.valueList)},reset:function(){var t=this;this.list.forEach(function(e,r){return e.value=t.oriList[r].value})}},mounted:function(){this.oriList=s()(this.list)}},u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"myForm"},[r("Form",[t._l(t.list,function(e,i){return r("FormItem",{key:t._uid+"_"+i,attrs:{required:e.required}},[r("span",{staticClass:"title"},[e.required?r("span",{staticStyle:{color:"red","font-size":"20px","margin-right":"4px"}},[t._v("*")]):t._e(),t._v("\n        "+t._s(+e.questIndex+1+"."+e.title)+"\n      ")]),t._v(" "),r(e.type,{tag:"component",attrs:{type:e.kind?e.kind:null},model:{value:e.value,callback:function(r){t.$set(e,"value",r)},expression:"item.value"}},[e.children?t._l(e.children.list,function(s,n){return r(e.children.type,{key:t._uid+"_"+i+"_"+n,tag:"component",staticClass:"item",attrs:{label:s.label?s.label:null,value:s.value?s.value:null}},[t._v(t._s(s.title))])}):t._e()],2)],1)}),t._v(" "),r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")]),t._v(" "),r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"warning"},on:{click:t.reset}},[t._v("重置")])],1)],2)],1)},staticRenderFns:[]};var a=r("C7Lr")(n,u,!1,function(t){r("iAj2")},"data-v-2f825023",null);e.a=a.exports},fUXG:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("gyMJ"),s={name:"surveyPage",components:{MyForm:r("fDO+").a},props:{},data:function(){return{spinShow:!0,questList:[]}},watch:{},computed:{},methods:{handleSubmit:function(t){var e=this,r={survey:this.$route.query._id,answers:t};i.a.addAnswer(r).then(function(t){1==t.status?(e.$Message.success(t.msg),e.$router.push({name:"thanks"})):e.$Message.error(t.msg)}).catch(function(t){e.$Message.error("请求错误或网络错误")})}},created:function(){},mounted:function(){var t=this,e=this.$route.query._id;i.a.getQuest({survey:e}).then(function(e){1==e.status?(t.$Message.success(e.msg),t.questList=e.data,t.spinShow=!1):(t.$Message.error(e.msg),t.spinShow=!1)}).catch(function(e){t.$Message.error("请求错误或网络错误"),t.spinShow=!1})}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"questDeatil"},[e("h4",[this._v("题目详情")]),this._v(" "),e("my-form",{attrs:{list:this.questList},on:{submit:this.handleSubmit}}),this._v(" "),this.spinShow?e("Spin",{attrs:{size:"large",fix:""}}):this._e()],1)},staticRenderFns:[]};var u=r("C7Lr")(s,n,!1,function(t){r("8gDL")},"data-v-29b469be",null);e.default=u.exports},iAj2:function(t,e){}});
//# sourceMappingURL=6.197f42a3038753da0735.js.map