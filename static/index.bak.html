<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<style>
	</style>

</head>

<body>

	<div id="app">
		username:<input type="text" id="username">
		password:<input type="text" id="password">

		<button id="login">submit</button>
		<button id="info">info</button>
		<p id="back"></p>

	</div>


	<script src="https://cdn.bootcss.com/axios/0.18.0/axios.js"></script>
	<script>
		let $ = document.querySelector.bind(document);
		let username = $("#username")
		let password = $("#password")
		let login = $("#login")
		let info = $("#info")
		let back = $("#back")

		login.addEventListener('click', function (e) {
			// body
			let data = {
				username: username.value,
				password: password.value
			}
			axios.post('http://localhost:12345/api/login', data)
				.then(function (response) {
					console.log("login", response.data);

					// location.reload();
				})
				.catch(function (error) {
					console.log("err", error);
				});
		});

		info.addEventListener('click', function (e) {
			// body
			axios.get('http://localhost:12345/api/info')
				.then(function (response) {
					console.log("info", response.data);
					// location.reload();
				})
				.catch(function (error) {
					console.log("err", error);
				});
		});
		// let title = document.getElementById("title");
		// let complete = document.getElementById("complete");
		// let addBtn = document.getElementById("addBtn");
		// let findBtn = document.getElementById("findBtn");
		// let delBtn = document.getElementById("delBtn");
		// let updateBtn = document.getElementById("updateBtn");
		// let clearBtn = document.getElementById("clear");
		// let list = document.getElementById("list")

		// window.onload = () => {
		// 	findBtn.click();
		// }
		// list.addEventListener("click", (e) => {
		// 	title.value = e.target.innerText.split(":")[0].trim();
		// 	complete.checked = JSON.parse(e.target.innerText.split(":")[1].trim());
		// })
		// clearBtn.addEventListener("click", () => {
		// 	title.value = "";
		// 	complete.checked = false;
		// 	findBtn.click();
		// })


		// addBtn.addEventListener("click", async () => {
		// 	let data = {
		// 		title: title.value,
		// 		complete: complete.checked
		// 	}
		// 	await axios.post('http://localhost:12345/todo', data)
		// 		.then(function (response) {
		// 			console.log("add", response);
		// 			// location.reload();
		// 		})
		// 		.catch(function (error) {
		// 			console.log("err", error);
		// 		});
		// 	clearBtn.click();
		// 	findBtn.click();

		// })
		// updateBtn.addEventListener("click", async () => {
		// 	let data = {
		// 		con: {
		// 			title: title.value
		// 		},
		// 		doc: {
		// 			complete: complete.checked
		// 		}
		// 	};
		// 	await axios.put('http://localhost:12345/todo', data)
		// 		.then(function (response) {
		// 			console.log("update", response);
		// 			// location.reload();
		// 		})
		// 		.catch(function (error) {
		// 			console.log("err", error);
		// 		});
		// 	findBtn.click();

		// })

		// findBtn.addEventListener("click", () => {
		// 	let con = title.value.trim().length > 0 ? {
		// 		title: title.value
		// 	} : {};
		// 	axios.get('http://localhost:12345/todo', {
		// 			params: con
		// 		})
		// 		.then((res) => {
		// 			list.innerHTML = "";
		// 			res.data.map((item) => {
		// 				let li = document.createElement("li");
		// 				li.textContent = item.title + " : " + item.complete;
		// 				list.appendChild(li);
		// 			})
		// 			document.querySelector("body").appendChild(list);

		// 		}).catch((err) => {
		// 			console.log(err)
		// 		})
		// })
		// delBtn.addEventListener("click", () => {
		// 	console.warn("delete")
		// 	let con = {
		// 		title: title.value
		// 	};
		// 	axios.delete('http://localhost:12345/todo', {
		// 			params: con
		// 		})
		// 		.then((res) => {
		// 			console.log("delete:", res.data);

		// 			let liArr = list.children;
		// 			for (let i = 0; i < liArr.length; i++) {
		// 				if (liArr[i].innerText.includes(title.value))
		// 					list.removeChild(liArr[i]);
		// 			}
		// 			clearBtn.click();

		// 		}).catch(err => {
		// 			console.log("delete err", err);
		// 		})
		// })
	</script>


</body>

</html>